angular.module("wfm.autofocus",[]).directive("autofocus",["$timeout",function(a){"use strict";return{restrict:"A",link:function(b,c){a(function(){c[0].focus()})}}}]),function(){"use strict";function a(a,b){var c=this;c.$onChanges=function(d){if(c.pulse){var e=b[0].childNodes[0].childNodes[1];a.addClass(e,"pulse").then(function(){a.removeClass(e,"pulse")})}}}angular.module("wfm.badge",["ngAnimate"]).component("wfmBadge",{templateUrl:"directives/badge/badge.tpl.html",controller:a,bindings:{badgeModel:"<",status:"<",pulse:"<",showEmpty:"<"}}),a.$inject=["$animate","$element"]}(),function(){"use strict";function a(a){var b=this;b.$onInit=function(){b.selected&&b.output(b.selected)}}angular.module("wfm.btnGroup",["pascalprecht.translate"]).component("wfmBtnGroup",{templateUrl:"directives/btn-group/btn-group.tpl.html",controller:a,bindings:{items:"<",selected:"<",output:"<",btnClass:"<",selectionClass:"<"}}),a.$inject=["$translate"]}(),function(){"use strict";angular.module("wfm.calendarPicker",["pascalprecht.translate"])}(),function(){"use strict";function a(a,b,c,d,e){function f(){O.switchDate=B,O.validate=o,O.isPickingSingleDate=!0,O.pickDate=O.ngModel.$modelValue||new Date}function g(){switch(O.disable){case"start-date":O.validate=r,O.switchDate=D,O.displayCalenderView=m,O.isPickingEndDate=!0;break;case"end-date":O.validate=s,O.switchDate=C,O.displayCalenderView=m,O.isPickingStartDate=!0;break;case"all":O.validate=q,O.switchDate=void 0,O.displayCalenderView=m;break;default:O.validate=p,O.switchDate=E,O.displayCalenderView=n,O.pickDate=O.ngModel.$modelValue.startDate||new Date,h()}O.isValid=!O.validate()}function h(){d(function(){O.ngModel.$modelValue&&O.ngModel.$modelValue.startDate&&O.ngModel.$modelValue&&!O.ngModel.$modelValue.endDate?O.isPickingEndDate=!0:O.isPickingStartDate=!0},10)}function i(){return O.pickDate=l(new Date),O.isPickingStartDate?(O.pickStartDate=O.pickDate,C()):O.isPickingEndDate?(O.pickEndDate=O.pickDate,D()):(O.isPickingSingleDate&&O.ngModel.$setViewValue(O.pickDate),O.isValid=!O.validate())}function j(){var a=[angular.copy(O.pickStartDate),angular.copy(O.pickEndDate)],b=k();return O.displayCalenderView(a,b)}function k(){var a=O.ngModel.$modelValue?O.ngModel.$modelValue.startDate:null,b=O.ngModel.$modelValue?O.ngModel.$modelValue.endDate:null;return O.pickStartDate=l(a),O.pickEndDate=l(b),[angular.copy(O.pickStartDate),angular.copy(O.pickEndDate)]}function l(a){if(null==a)return null;var b=new Date(a).setHours(0,0,0,0);return new Date(b)}function m(a,b){return(!a[1]||b[1]-a[1])&&"end-date"==O.disable&&(O.pickDate=O.pickStartDate),(!a[0]||b[0]-a[0])&&"start-date"==O.disable&&(O.pickDate=O.pickEndDate),"all"==O.disable&&(O.pickDate=O.pickStartDate),K(O.pickStartDate,O.pickEndDate)}function n(a,b){return b[1]-a[1]&&(O.pickDate=O.pickEndDate),b[0]-a[0]&&(O.pickDate=O.pickStartDate),K(O.pickStartDate,O.pickEndDate)}function o(){return O.pickDate?c.customValidate?O.dateRangeText=O.customValidate():O.dateRangeText="":O.dateRangeText=e.instant("SelectADate")}function p(){return O.pickStartDate||O.pickEndDate?O.pickStartDate?O.pickEndDate?c.customValidate?O.dateRangeText=O.customValidate():O.dateRangeText="":O.dateRangeText=e.instant("SelectEndDate"):O.dateRangeText=e.instant("SelectStartDate"):O.dateRangeText=e.instant("SelectStartDateAndEndDate")}function q(){return O.pickStartDate||O.pickEndDate?O.pickStartDate?O.pickEndDate?c.customValidate?O.dateRangeText=O.customValidate():O.dateRangeText="":O.dateRangeText=e.instant("NoEndToDisplay"):O.dateRangeText=e.instant("NoStartDateToDisplay"):O.dateRangeText=e.instant("NoStartAndEndDateToDisplay")}function r(){return O.pickEndDate?c.customValidate?O.dateRangeText=O.customValidate():O.dateRangeText="":O.dateRangeText=e.instant("SelectEndDate")}function s(){return O.pickStartDate?c.customValidate?O.dateRangeText=O.customValidate():O.dateRangeText="":O.dateRangeText=e.instant("SelectStartDate")}function t(){return O.pickDate=null,O.ngModel.$setViewValue(O.pickDate)}function u(){return O.pickStartDate=null,O.pickDate=null,O.pickStartDate||O.pickEndDate?O.pickEndDate&&x():(O.pickDate=new Date,x()),L(),O.isValid=!O.validate()}function v(){return O.pickEndDate=null,O.pickDate=null,O.pickStartDate||O.pickEndDate?O.pickStartDate&&y():(O.pickDate=new Date,x()),L(),O.isValid=!O.validate()}function w(){return O.pickStartDate=null,O.pickEndDate=null,O.pickDate=null,L(),O.isValid=!O.validate()}function x(){O.isPickingStartDate=!0,O.isPickingEndDate=!1}function y(){O.isPickingStartDate=!1,O.isPickingEndDate=!0}function z(){if("start-date"!=O.disable&&"all"!=O.disable)return x(),O.pickDate=O.pickStartDate,L(),O.isValid=!O.validate()}function A(){if("end-date"!=O.disable&&"all"!=O.disable)return y(),O.pickDate=O.pickEndDate,L(),O.isValid=!O.validate()}function B(){return O.ngModel.$setViewValue(O.pickDate)}function C(){return O.pickStartDate=O.pickDate,O.pickEndDate&&O.pickDate-O.pickEndDate>0&&("end-date"==O.disable?O.pickStartDate=null:O.pickEndDate=null),A(),L(),K(O.pickStartDate,O.pickEndDate)}function D(){return O.pickEndDate=O.pickDate,O.pickStartDate&&O.pickDate-O.pickStartDate<0&&("start-date"==O.disable?O.pickEndDate=null:O.pickStartDate=null),z(),L(),K(O.pickStartDate,O.pickEndDate)}function E(){return O.isPickingStartDate?C():O.isPickingEndDate?D():void 0}function F(a,b){var a=moment(a).clone(),b=moment(b).clone(),c=b.add(1,"day").diff(a,"day"),d=0;return c>6?(d=(c/7).toString().split(".")[0],c=b.subtract(7*d,"day").diff(a,"day")):d=0,{Weeks:d,Days:c}}function G(a,b){var a=moment(a).clone(),b=moment(b).clone(),c=I(a,b);return{Months:c,Days:b.subtract(c,"month").diff(a,"day")}}function H(a,b){var a=moment(a).clone(),b=moment(b).clone(),c=b.diff(a,"year"),d=I(a,b.subtract(c,"year")),e=b.subtract(d,"month").diff(a,"day"),f=0;return e>6?(f=(e/7).toString().split(".")[0],e=b.subtract(7*f,"day").diff(a,"day")):f=0,{Years:c,Months:d,Weeks:f,Days:e}}function I(a,b){if(1==b.get("month")){var c=a.clone().startOf("month"),d=a.clone().endOf("month"),e=b.clone().endOf("month"),f=a.clone().get("date"),g=b.clone().get("date");if(e.diff(b,"day")-d.diff(a,"day")==1||f-g==1||0==c.diff(a,"day")&&0==e.diff(b,"day"))return b.add(1,"day").diff(a,"month",!0).toFixed()}return b.add(1,"day").diff(a,"month")}function J(a,b,c){var d="";if("week"==c)var f=F(a,b);else if("month"==c)var f=G(a,b);else var f=H(a,b);for(var g=Object.keys(f),h=0;h<g.length;h++)f[g[h]]>0&&(d+=f[g[h]]+e.instant(g[h])+"   ");return d}function K(a,b){if(O.isValid=!O.validate(),O.isValid)switch(O.intervalRule){default:O.dateRangeText=J(a,b);break;case"week":O.dateRangeText=J(a,b,"week");break;case"month":O.dateRangeText=J(a,b,"month")}return O.dateRangeText}function L(){return O.ngModel.$setViewValue({startDate:O.pickStartDate,endDate:O.pickEndDate})}function M(a){var b=a.date,c=a.mode;if(O.isPickingSingleDate){var d="";return moment(b).isSame(O.pickDate,"day")&&(d+=" selected-date-cell"),N(b)&&(d+=" current-date-cell"),d}if(!O.pickStartDate&&!O.pickEndDate)return"";if("day"===c){var d="",e=moment(b).isSame(O.pickStartDate,"day"),f=moment(b).isSame(O.pickEndDate,"day"),g=moment(b).isSameOrAfter(O.pickStartDate,"day")&&moment(b).isSameOrBefore(O.pickEndDate,"day");return e&&(d+=" start-date-cell"),f&&(d+=" end-date-cell"),(e||f||g)&&(d+=" in-date-range"),N(b)&&(d+=" current-date-cell"),d}}function N(a){return moment(a).isSame(new Date,"day")}var O=this;O.isValid=!0,O.pickStartDate=null,O.pickEndDate=null,O.isPickingStartDate=!1,O.isPickingEndDate=!1,O.isPickingSingleDate=!1,O.validate=void 0,O.resetDate=t,O.resetStartDate=u,O.resetEndDate=v,O.resetStartAndEndDate=w,O.selectToday=i,O.startToSelectStartDate=z,O.startToSelectEndDate=A,O.options={customClass:M,showWeeks:!!O.showWeek},O.$onInit=function(){switch(O.singleDatePicker){case void 0:O.ngModel.$viewChangeListeners.push(j),O.ngModel.$render=j,g();break;default:f()}}}angular.module("wfm.calendarPicker").component("wfmCalendarPicker",{templateUrl:["CurrentUserInfo",function(a){return{jalaali:"directives/calendar-picker/calendar-picker.jalaali.template.tpl.html",gregorian:"directives/calendar-picker/calendar-picker.gregorian.template.tpl.html"}["fa-IR"===a.CurrentUserInfo().DateFormatLocale?"jalaali":"gregorian"]}],require:{ngModel:"ngModel"},controller:"DateRangeController",controllerAs:"vm",bindings:{showWeek:"<",disable:"@",intervalRule:"@",singleDatePicker:"@",customValidate:"&"}}).controller("DateRangeController",a),a.$inject=["$scope","$element","$attrs","$timeout","$translate"]}(),function(){"use strict";function a(a){function b(){var b=a[0].parentNode.getElementsByTagName("card-panel").length;if(angular.isDefined(e.id)&&angular.isDefined(e.color.rgba)){var c=1-e.id/b;return e.color.rgba=e.color.rgba.replace(/[\d\.]+\)$/g,c.toFixed(2)+")"),{"border-color":e.color.rgba}}}function c(){if(angular.isDefined(e.color.className))return e.color.className}function d(){if(angular.isDefined(e.color.condition)&&angular.isDefined(e.colorCondition)&&angular.isDefined(e.color.condition[e.colorCondition]))return e.color.condition[e.colorCondition]}var e=this;e.$onInit=function(){if(angular.isDefined(e.color))switch(e.color.render){case void 0:break;case"linear":e.setColor=b;break;case"class":e.setColorClass=c;break;case"condition":e.setColorClass=d}}()}function b(){function a(a,b,c){function d(){if("true"==c.preOpen)return""!==c.id&&h[c.id].classList.contains("hidden")?h[c.id].classList.remove("hidden"):g()}function e(){i.addEventListener("click",function(){for(var a=0;a<h.length;a++)h[a].id!==j.id?h[a].classList.add("hidden"):g()})}function f(){i.addEventListener("click",function(){g()})}function g(){var a=j.classList;return a.contains("hidden")?a.remove("hidden"):a.add("hidden")}var h,i=b[0],j=i.nextElementSibling;!function(){switch("single"!=c.cardAnimate&&"true"!=c.preOpen||(h=i.parentNode.parentNode.parentNode.getElementsByClassName("card-panel-content-wrapper")),d(),c.cardAnimate){default:f();break;case"single":e()}}()}return{restrict:"EA",link:a}}angular.module("wfm.card-panel",[]).component("cardPanel",{templateUrl:"directives/card-panel/card-panel.template.tpl.html",controller:"CardPanelController",controllerAs:"vm",transclude:{header:"?cardPanelHeader",content:"?cardPanelContent"},bindings:{id:"<",open:"@",preOpen:"<",color:"<",colorCondition:"<"}}).directive("cardAnimate",b).controller("CardPanelController",a),a.$inject=["$element"]}(),function(){"use strict";function a(){var a=this;a.isSelected=function(){return a.parentVm.isSelectedCard(a)},a.select=function(){a.parentVm.selectCard(a)}}function b(){return'<md-card ng-class="vm.isSelected() ? \'wfm-card-selected material-depth-2\' : \'wfm-card-unselected\' "><div ng-click="vm.select()" tabindex="-1" class="wfm-card-title" transclude-id="header"></div><div class="wfm-card-content animate-show" ng-show="vm.isSelected()"><div transclude-id="body"></div></div></md-card>'}function c(){return{controller:"wfmCardCtrl",controllerAs:"vm",bindToController:!0,scope:{openByDefault:"=open"},template:b(),transclude:!0,require:["wfmCard","^wfmCardList"],link:function(a,b,c,d,e){var f=d[0];f.id=a.$id;var g=d[1];f.parentVm=g,f.openByDefault&&f.select(),e(function(a){angular.forEach(a,function(a){if(3!==a.nodeType){var c;"CARD-HEADER"===a.nodeName&&(c='[transclude-id="header"]'),"CARD-BODY"===a.nodeName&&(c='[transclude-id="body"]');var d=angular.element(b[0].querySelector(c));null!=d&&d.length?d.append(a):a.remove()}})})}}}function d(a,b,c,d){d.allowMultiSelect="multiSelect"in c}angular.module("wfm.cardList",[]),angular.module("wfm.cardList").controller("wfmCardCtrl",a),angular.module("wfm.cardList").directive("wfmCard",c),angular.module("wfm.cardList").controller("wfmCardListCtrl",function(){var a=this;a.selectedCards={},a.selectCard=function(b){var c=void 0===a.selectedCards[b.id];a.allowMultiSelect||(a.selectedCards={}),c?a.selectedCards[b.id]=b:delete a.selectedCards[b.id]},a.isSelectedCard=function(b){return void 0!==a.selectedCards[b.id]}}),angular.module("wfm.cardList").directive("wfmCardList",function(){return{controller:"wfmCardListCtrl",controllerAs:"vm",bindToController:!0,transclude:!0,template:'<md-content class="wfm-card-list-container"><md-list class="wfm-card-list"><md-content ng-transclude></md-content></md-list></md-content>',link:d,scope:!0}})}(),function(){"use strict";angular.module("wfm.culturalDatepicker",["currentUserInfoService"]).controller("CulturalDatepickerCtrl",["$scope","CurrentUserInfo",function(a,b){var c=b.CurrentUserInfo().DateFormatLocale;a.isJalaali="fa-IR"===c,a.isGregorian=!a.isJalaali}]).directive("wfmCulturalDatepicker",function(){return{controller:"CulturalDatepickerCtrl",restrict:"E",scope:{date:"=ngModel",datepickerOptions:"=datepickerOptions"},template:'<div class="wfm-datepicker-wrap wfm-cultural-datepicker-container"><persian-datepicker ng-if="isJalaali" ng-model="date" class="wfm-datepicker"></persian-datepicker><div uib-datepicker ng-if="isGregorian" ng-model="date" datepicker-options="datepickerOptions" class="wfm-datepicker"></div></div>'}})}(),function(){"use strict";function a(a,b,c){function d(a,b,c,d){b.addClass("wfm-date-range-picker-wrap"),c.enabled(b,!1);var e=d.CurrentUserInfo().DateFormatLocale;a.isJalaali="fa-IR"===e,a.isGregorian=!a.isJalaali}function e(d,e,g,h){function i(a){return s.$error&&s.$error[a]}function j(){var a=document.getElementsByClassName("md-select-menu-container md-active");a.length>0&&a[0].remove();var b=document.getElementsByClassName("md-select-backdrop");b.length>0&&b[0].remove();var c=document.getElementsByClassName("md-scroll-mask");c.length>0&&c[0].remove(),d.displayCalendars=!1,d.onPopUpClose&&d.onPopUpClose()}function k(a){return function(b,c){return void 0===b||(!a||null!==b&&a(b.startDate,b.endDate))}}function l(a,b){return a<=b}function m(){s.$viewValue&&(d.startDate=s.$viewValue.startDate,d.endDate=s.$viewValue.endDate)}function n(a){if(a&&d.startDate&&angular.isDate(d.startDate)&&d.endDate&&angular.isDate(d.endDate))return a}function o(){s.$setViewValue({startDate:d.startDate,endDate:d.endDate})}function p(){d.dropDownState&&(d.dropDownState.showAllDatePickers||(d.dropDownState.showStartDatePicker=!1,d.dropDownState.showEndDatePicker=!1))}function q(){d.startDate&&d.endDate&&(d.startDate=moment(d.startDate).toDate(),d.endDate=moment(d.endDate).toDate())}function r(a){var b=a.date,c=a.mode;return s.$invalid?"":"day"!==c||moment(b).isBefore(d.startDate,"day")||moment(b).isAfter(d.endDate,"day")?"":"in-date-range"}var s=h[0],t=(h[1],{});g.translations&&(t=c(g.translations)(d.$parent)||t),d.xxFrom=t.From||"From",d.xxTo=t.To||"To",d.displayPopup=function(){return"popup"===d.templateType},d.displayCalendars=!1,d.displayError=i,d.hideDateRangePicker=j,f(d),d.dateFormat=a.DATETIME_FORMATS.shortDate,d.datepickerOptions={customClass:r,showWeeks:!0},d.defaultValidators=[{key:"order",message:g.invalidOrderMessage||"StartDateMustBeEqualToOrEarlierThanEndDate",validate:l},{key:"parse",message:g.invalidEmptyMessage||"StartDateAndEndDateMustBeSet"}],d.validators=d.defaultValidators.concat(d.customValidators&&angular.isArray(d.customValidators)?d.customValidators:[]),angular.forEach(d.validators,function(a){s.$validators[a.key]=k(a.validate)}),s.$parsers.push(n),s.$render=m,d.$watchCollection(function(){return d.startDate&&d.endDate?[b("date")(d.startDate,"yyyy-MM-dd"),b("date")(d.endDate,"yyyy-MM-dd")]:[null,null]},function(a){d.testStopUi||(o(),p(),q())}),d.$watch(function(){return d.dropDownState?d.dropDownState.showStartDatePicker&&d.dropDownState.showEndDatePicker:null},function(a){null!==a&&(d.dropDownState.showAllDatePickers=a)})}function f(a){a.dropDownState={showAllDatePickers:!1,showStartDatePicker:!1,showEndDatePicker:!1},a.onClickShowAllDates=function(){a.dropDownState.showAllDatePickers||(a.dropDownState.showStartDatePicker=a.dropDownState.showEndDatePicker=a.dropDownState.showAllDatePickers=!0)}}return{templateUrl:"directives/date-range-picker/date-range-picker.tpl.html",scope:{templateType:"=?",customValidators:"=?",testStopUi:"@?",onPopUpClose:"&?"},controller:["$scope","$element","$animate","CurrentUserInfo",d],require:["ngModel","dateRangePicker"],link:e}}angular.module("wfm.daterangepicker",["styleguide.templates","persianDate","wfm.helpingDirectives"]).directive("dateRangePicker",["$locale","$filter","$parse",a])}(),function(){"use strict";var a;a=angular.module("wfm.modal",[]),a.provider("ngModalDefaults",function(){return{options:{closeButtonHtml:'<div class="head-actions panel-menu"><div tabindex=0 class="context-menu card-context"><i class="mdi mdi-close"></i></div></div>'},$get:function(){return this.options},set:function(a,b){var c,d,e;if("object"==typeof a){e=[];for(c in a)a.hasOwnProperty(c)&&(d=a[c],e.push(this.options[c]=d));return e}return this.options[a]=b,this.options[a]}}}),a.directive("modalDialog",["ngModalDefaults","$sce",function(a,b){return{restrict:"E",scope:{show:"=",dialogTitle:"@",onClose:"&?",infos:"="},replace:!0,transclude:!0,link:function(c,d,e){var f;f=function(){c.closeButtonHtml=b.trustAsHtml(a.closeButtonHtml)},c.hideModal=function(){var a=document.getElementsByClassName("md-select-menu-container md-active");a.length>0&&a[0].remove();var b=document.getElementsByClassName("md-select-backdrop");b.length>0&&b[0].remove();var d=document.getElementsByClassName("md-scroll-mask");d.length>0&&d[0].remove(),c.show=!1},c.$watch("show",function(a,b){if(!a&&b&&null!=c.onClose)return c.onClose()}),f()},template:"<div class='click-modal modal-box' ng-show='show'><div class='modalbg' ng-click='hideModal()'></div><div class='dialog material-depth-1' ng-style='dialogStyle'><div ng-click='hideModal()' ng-bind-html='closeButtonHtml'></div><div ng-transclude></div></div></div>"}}])}(),function(){"use strict";angular.module("wfm.notice",["ngSanitize"])}(),function(){"use strict";angular.module("wfm.notice").directive("wfmNotice",["$timeout","$rootScope",function(a,b){return{restrict:"EA",scope:{notices:"="},link:function(c,d,e){c.notices=c.notices?c.notices:[],c.deleteNotice=function(a){a.destroy()},b.$on("$stateChangeSuccess",function(){c.notices.filter(function(a){return a.destroyOnStateChange}).forEach(function(a){c.deleteNotice(a)})}),c.$watchCollection("notices",function(b){b.forEach(function(b){null!==b.timeToLive&&a(function(){c.deleteNotice(b)},b.timeToLive)})})},template:'<div ng-repeat="notice in notices"><div class="notice-container"><div class="notice-item" ng-class="setType(notice)"><i ng-class="setIcon(notice)"></i><span ng-bind-html="notice.content"></span> <i class="pull-right mdi mdi-close notice-close" ng-click="deleteNotice(notice)"></i></div></div></div><button class="wfm-btn notice-item wfm-btn-default" ng-click="clearAll()" ng-if="notices.length>=3">Dismiss all</button>',controller:["$scope",function(a){a.setType=function(a){return a.type},a.clearAll=function(){a.notices.splice(0,a.notices.length)},a.setIcon=function(a){return a.icon}}]}}])}(),function(){"use strict";var a=function(){var a=-1;return function(){return++a}}();angular.module("wfm.notice").service("NoticeService",["$rootScope",function(b){var c={};b.wfmNotices=b.wfmNotices?b.wfmNotices:[];var d={success:"notice-success",error:"notice-error",info:"notice-info",warning:"notice-warning"},e={success:"mdi mdi-thumb-up",error:"mdi mdi-alert-octagon",info:"mdi mdi-alert-circle",warning:"mdi mdi-alert"},f=function(c,d,e,f,g){var h=a(),i={id:h,type:c,icon:d,content:e,timeToLive:f,destroyOnStateChange:g,destroy:function(){b.wfmNotices=b.wfmNotices.filter(function(a){return a.id!==h})}};return-1==b.wfmNotices.map(function(a){return a.content}).indexOf(i.content)&&b.wfmNotices.push(i),{destroy:i.destroy}};return c.warning=function(a,b,c){return f(d.warning,e.warning,a,b,c)},c.error=function(a,b,c){return f(d.error,e.error,a,b,c)},c.info=function(a,b,c){return f(d.info,e.info,a,b,c)},c.success=function(a,b,c){return f(d.success,e.success,a,b,c)},c}])}(),function(){"use strict";function a(){function a(a){this.parseNumberString=function(b,c){var d=a.NUMBER_FORMATS.PATTERNS[0].gSize,e=(""+b).split(a.NUMBER_FORMATS.DECIMAL_SEP),f=e[0],g=e[1]||"";if(e.length>2)return!1;if(c&&g.length>0)return!1;var h=f.replace(/\s+/g,"").split(a.NUMBER_FORMATS.GROUP_SEP).join(" ");return!!new RegExp("^[-+]?[0-9]{1,"+d+"}( ?[0-9]{"+d+"})*$").test(h)&&!(g.length>0&&!/^[0-9]+$/.test(g))&&(c?parseInt(h.replace(/\s+/g,"")):parseFloat(h.replace(/\s+/g,"")+"."+g))}}function b(a,b,c,d){function e(a,b){return null!=b&&!1!==i.parseNumberString(b.trim(),!j)}function f(b,c){if(null===b)return!0;if(angular.isDefined(a.min)){if(b<parseInt(a.min))return!1}if(angular.isDefined(a.max)){if(b>parseInt(a.max))return!1}return!0}function g(){h.$setViewValue(h.$modelValue),h.$render(),h.$setPristine()}var h=d[0],i=d[1],j=angular.isDefined(c.floatNumber);h.$validators.number=e,h.$validators.range=f,h.$parsers.push(function(a){return i.parseNumberString(a.trim(),!j)}),a.$on("numeric-value.reset",g)}return{restrict:"A",require:["ngModel","numericValue"],controller:["$locale",a],scope:{min:"@?",max:"@?"},link:b}}angular.module("wfm.numericValue",[]).directive("numericValue",a)}(),function(){"use strict";angular.module("wfm.pagination",[]).run(["$templateCache",function(a){a.put("wfm-pagination-default.tpl.html",'<div class="pagination" ng-if="vm.paginationOptions.totalPages > 0">\t<ul>\t\t<li class=" pagination-item" ng-class="{disabled: vm.paginationOptions.pageNumber == 1 || vm.paginationOptions.totalPages == 0}"\t\tstyle="padding-top: 4px; padding-bottom: 4px;">\t\t\t<a href="" ng-click="vm.gotoPage(1)">\t\t\t\t<i class="mdi mdi-skip-previous"></i>\t\t\t</a>\t\t</li>\t\t<li class="pagination-item" ng-class="{disabled: vm.paginationOptions.pageNumber == 1 || vm.paginationOptions.totalPages == 0}"\t\tstyle="padding-top: 4px; padding-bottom: 4px;">\t\t\t<a href="" ng-click="vm.gotoPage(vm.paginationOptions.pageNumber - 1)">\t\t\t\t<i class="mdi mdi-chevron-left"></i>\t\t\t</a>\t\t</li>\t\t<li class="pagination-item" ng-repeat="n in vm.getVisiblePageNumbers()"\t\t\tng-class="{active: n == vm.paginationOptions.pageNumber}" ng-click="vm.gotoPage(n)" style="padding-top: 4px; padding-bottom: 4px;">\t\t\t<a href="" ng-bind="n"></a>\t\t</li>\t\t<li class="pagination-item" ng-class="{disabled: vm.paginationOptions.pageNumber == vm.paginationOptions.totalPages || vm.paginationOptions.totalPages == 0}"\t\tstyle="padding-top: 4px; padding-bottom: 4px;">\t\t\t<a href="" ng-click="vm.gotoPage(vm.paginationOptions.pageNumber + 1)">\t\t\t\t<i class="mdi mdi-chevron-right"></i>\t\t\t</a>\t\t</li>\t\t<li class="pagination-item" ng-class="{disabled: vm.paginationOptions.pageNumber == vm.paginationOptions.totalPages || vm.paginationOptions.totalPages == 0}"\t\tstyle="padding-top: 4px; padding-bottom: 4px;">\t\t\t<a href="" ng-click="vm.gotoPage(vm.paginationOptions.totalPages)">\t\t\t\t<i class="mdi mdi-skip-next"></i>\t\t\t</a>\t\t</li>\t</ul></div>')}])}(),function(){function a(a,b,c,d){}var b=function(a){function b(a,b){return a-Math.floor(b/2)>1?a-Math.floor(b/2):1}function c(a,b,c){return a+Math.floor(b/2)>c?c:a+Math.floor(b/2)}var d=this;d.gotoPage=function(a){a<1||a>d.paginationOptions.totalPages||(d.paginationOptions.pageNumber=a,void 0!==d.getDataForPageCallback&&d.getDataForPageCallback(a))},d.getVisiblePageNumbers=function(a,e){var f=[];a||(a=d.paginationOptions.totalPages),e||(e=a,a=1);var g=a,h=e;if(e-a>=5){var i=d.paginationOptions.pageNumber;i<4?(g=1,h=5):e-i<3?(g=e-5+1,h=e):(g=b(i,5),h=c(i,5,e))}for(var j=g;j<=h;j++)f.push(j);return f}},c=function(){return{controller:"WfmPaginationCtrl",controllerAs:"vm",bindToController:!0,templateUrl:"wfm-pagination-default.tpl.html",scope:{paginationOptions:"=?",getDataForPageCallback:"=?"},link:a}};angular.module("wfm.pagination").directive("wfmPagination",c).controller("WfmPaginationCtrl",["$scope",b])}(),function(){"use strict";function a(){}angular.module("wfm.popup",[]).component("wfmPopup",{transclude:!0,templateUrl:"directives/popup-menu/popup.tpl.html",controller:a,bindings:{show:"="}}),a.inject=[]}(),function(){"use strict";function a(){function a(){b.preselectedItem&&(angular.isDefined(b.preselectedItem.skillIds)?b.selectedSkill=b.skills.find(function(a){return a.Id===b.preselectedItem.skillIds[0]}):angular.isDefined(b.preselectedItem.skillAreaId)&&(b.selectedSkillArea=b.skillAreas.find(function(a){return a.Id===b.preselectedItem.skillAreaId})))}var b=this;b.skillsLoaded=!0,b.skillAreasLoaded=!0,b.selectedSkill,b.selectedSkillArea,b.$onInit=function(){a()},b.$onChanges=function(b){a()},b.selectSkill=function(a){void 0!==a?(b.selectedSkillArea=null,b.itemToReturn(a)):null===b.selectedSkillArea&&null===b.selectedSkill&&b.itemToReturn(void 0)},b.selectSkillArea=function(a){void 0!==a?(b.selectedSkill=null,b.itemToReturn(a)):null===b.selectedSkill&&null===b.selectedSkillArea&&b.itemToReturn(void 0)}}angular.module("wfm.skillPickerOld",[]).component("skillPicker",{templateUrl:"directives/skill-picker-old/skill-picker.old.tpl.html",controller:a,bindings:{skills:"<",skillAreas:"<",itemToReturn:"=",preselectedItem:"<"}}),a.inject=[]}(),function(){function a(a){function b(a){angular.isUndefined(a)||(angular.isDefined(a.preselectedSkill)&&null!==a.preselectedSkill&&(null!==a.preselectedSkill.currentValue&&angular.isDefined(a.preselectedSkill.currentValue)?c.skillPickerText=a.preselectedSkill.currentValue.Name:c.skillPickerText=""),angular.isDefined(a.preselectedSkillGroup)&&null!==a.preselectedSkillGroup&&(null!==a.preselectedSkillGroup.currentValue&&angular.isDefined(a.preselectedSkillGroup.currentValue)?c.skillGroupPickerText=a.preselectedSkillGroup.currentValue.Name:c.skillGroupPickerText=""))}var c=this;c.selectedSkill="",c.selectedSkillGroup="",c.getSkillIcon=function(a){if(!a.DoDisplayData)return"mdi mdi-alert";if(a.IsMultisiteSkill)return"mdi mdi-hexagon-multiple";switch(a.SkillType){case"SkillTypeChat":return"mdi mdi-message-text-outline";case"SkillTypeEmail":return"mdi mdi-email-outline";case"SkillTypeInboundTelephony":return"mdi mdi-phone";case"SkillTypeRetail":return"mdi mdi-credit-card";case"SkillTypeBackoffice":return"mdi mdi-archive";case"SkillTypeProject":return"mdi mdi-clock-fast";case"SkillTypeFax":return"mdi mdi-fax";case"SkillTypeTime":return"mdi mdi-clock";default:return"mdi mdi-alert"}},c.skillSelected=function(a){c.skillPickerOpen=!1,c.skillPickerText=a.Name,c.skillGroupPickerText="",c.onSkillSelected({skill:a})},c.skillGroupSelected=function(a){c.skillGroupPickerText=a.Name,c.skillGroupPickerOpen=!1,c.skillPickerText="",c.onSkillGroupSelected({skillGroup:a})},c.clearSkillSelection=function(){c.skillPickerOpen=!0,c.skillPickerText="",angular.isDefined(c.onClearSkillSelection)&&c.onClearSkillSelection()},c.clearSkillGroupSelection=function(){c.skillGroupPickerOpen=!0,c.skillGroupPickerText="",angular.isDefined(c.onClearSkillGroupSelection)&&c.onClearSkillGroupSelection()},c.$onChanges=function(a){b(a)}}angular.module("wfm.skillPicker",[]).component("theSkillPicker",{templateUrl:"directives/skill-picker/skillPicker.tpl.html",controller:a,bindings:{skills:"<",skillGroups:"<",preselectedSkill:"<",preselectedSkillGroup:"<",onSkillSelected:"&",onSkillGroupSelected:"&",onClearSkillSelection:"&",onClearSkillGroupSelection:"&"}}),a.$inject=["$translate"]}(),function(){"use strict";function a(a){function b(a,b,c){function d(){a.disableNextDay||(a.nextDay=!a.nextDay)}function e(a,b){var c=b.getHours(),d=b.getMinutes();a.set("hour",c).set("minute",d)}function f(a,b){return a.toLocaleDateString()===b.toLocaleDateString()}var g=this;b.addClass("wfm-time-range-picker-wrap"),a.toggleNextDay=d,a.invalidTimeRange=function(a,b){return a.replace("{0}",b)}(c.instant("InvalidHoursRange"),a.maxHoursRange),g.mutateMoment=e,g.sameDate=f}function c(b,c,d,e){function f(a){if(a){var b=!o.sameDate(a.startTime,a.endTime);return k(a.startTime,a.endTime,b)}}function g(a){if(a)return{startTime:a.startTime.toDate(),endTime:a.endTime.toDate()}}function h(){if(n.$viewValue){var a=n.$viewValue.startTime,c=n.$viewValue.endTime;b.startTime=a.toDate(),b.endTime=c.toDate(),b.nextDay=!a.isSame(c,"day")}}function i(a,b){return void 0===a||a.startTime<=a.endTime}function j(a,c){return void 0===a||void 0===b.maxHoursRange||""===b.maxHoursRange||a.endTime-a.startTime<1e3*parseInt(b.maxHoursRange)*60*60}function k(a,b,c){var d={startTime:moment(),endTime:moment()};return o.mutateMoment(d.startTime,a),o.mutateMoment(d.endTime,b),c&&d.endTime.add(1,"day"),d}function l(a,c){if(!b.startTime||!b.endTime)return void n.$setViewValue(null);b.disableNextDay&&(b.nextDay="00:00"===a.strEndTime),n.$setViewValue(k(b.startTime,b.endTime,b.nextDay))}function m(){return{strStartTime:b.startTime?a("date")(b.startTime,"HH:mm"):"",strEndTime:b.endTime?a("date")(b.endTime,"HH:mm"):"",boolNextDay:b.nextDay}}var n=e[0],o=e[1];b.$watch(m,l,!0),n.$parsers.push(g),n.$formatters.push(f),n.$render=h,n.$validators.order=i,n.$validators.range=j}return{templateUrl:function(a,b){return b.templateUrl||d},scope:{disableNextDay:"=?",maxHoursRange:"=?"},controller:["$scope","$element","$translate",b],require:["ngModel","timeRangePicker"],transclude:!0,link:c}}function b(a){function b(a,b){var c=b.ngModel;a.addClass("wfm-timepicker-wrap");var d=a.find("timepicker");d.attr("ng-model",c),d.attr("show-meridian","showMeridian"),d.attr("minute-step","minuteStep"),e.showMeridian&&d.attr("meridians","meridians")}function d(a){a.showMeridian=e.showMeridian,a.minuteStep=5,e.showMeridian&&(a.meridians=[e.am,e.pm])}var e=c(a);return{template:"<div uib-timepicker></div>",controller:["$scope",d],compile:b}}function c(a){var b=a.DATETIME_FORMATS.shortTime,c={};return/h:/.test(b)?(c.showMeridian=!0,c.am=a.DATETIME_FORMATS.AMPMS[0],c.pm=a.DATETIME_FORMATS.AMPMS[1]):c.showMeridian=!1,c}angular.module("wfm.timerangepicker",["pascalprecht.translate"]).directive("timepickerWrap",["$locale",b]).directive("timeRangePicker",["$filter",a]);var d="directives/time-range-picker/time-range-picker.tpl.html"}(),function(){"use strict";function a(a,b){function c(){angular.isDefined(i.option)&&(i.nodeDisplayName=i.option.NodeDisplayName?i.option.NodeDisplayName:"name",i.nodeChildrenName=i.option.NodeChildrenName?i.option.NodeChildrenName:"children",i.nodeSelectedMark=i.option.NodeSelectedMark?i.option.NodeSelectedMark:"mark",i.displayTreeFilter=!!i.option.DisplayTreeFilter&&i.option.DisplayTreeFilter),i.ngModel.$viewChangeListeners.push(d),i.ngModel.$render=d}function d(){angular.equals(i.ngModel.$modelValue,i.data)||(i.data=i.ngModel.$modelValue)}function e(a){i.node=a;var b=!a.$parent.node[i.nodeSelectedMark];return a.$parent.node[i.nodeSelectedMark]=b,b?h(a.$parent,!0):a.$parent.node[i.nodeChildrenName]&&0!==a.$parent.node[i.nodeChildrenName].length&&g(a.$parent.node[i.nodeChildrenName]),f()}function f(){var a=angular.copy(i.data);return i.ngModel.$setViewValue(a)}function g(a){a.forEach(function(a){if(a[i.nodeSelectedMark]=!1,a[i.nodeChildrenName]&&0!==a[i.nodeChildrenName].length)return g(a[i.nodeChildrenName])})}function h(a,b){if(a.node[i.nodeSelectedMark]=b,a.$parent.$parent.node)return h(a.$parent.$parent,b)}var i=this;i.node,i.nodeDisplayName="name",i.nodeChildrenName="children",i.nodeSelectedMark="mark",i.displayTreeFilter=!1,i.selectNode=e,i.$onInit=c}function b(a,b,c){function d(){angular.isDefined(p.option)&&(p.nodeDisplayName=p.option.NodeDisplayName?p.option.NodeDisplayName:"name",p.nodeChildrenName=p.option.NodeChildrenName?p.option.NodeChildrenName:"children",p.nodeSelectedMark=p.option.NodeSelectedMark?p.option.NodeSelectedMark:"mark",p.nodeSemiSelected=p.option.nodeSemiSelected?p.option.nodeSemiSelected:"semiSelected",p.displayTreeFilter=!!p.option.DisplayTreeFilter&&p.option.DisplayTreeFilter,r=!!p.option.RootSelectUnique&&p.option.RootSelectUnique),p.ngModel.$viewChangeListeners.push(e),p.ngModel.$render=e}function e(){angular.equals(p.ngModel.$modelValue,p.data)||(p.data=p.ngModel.$modelValue,p.search=null,b(function(){for(var b=a[0].getElementsByClassName("selected-true"),c=0;c<b.length;c++){
var d=b[c];s.some(function(a){return a==d.$$hashKey})||(q=!0,d.click(),s.push(d.$$hashKey))}}))}function f(a){p.node=a;var b=g(a);if(h(a),r){var c=n(a)[0];o(p.data[p.nodeChildrenName],c)}return a.$parent.$parent.$parent.node&&0!==a.$parent.$parent.$parent.node[p.nodeChildrenName].length&&k(a.$parent.$parent.$parent),a.$parent.node[p.nodeChildrenName]&&0!==a.$parent.node[p.nodeChildrenName].length&&j(a.$parent.node[p.nodeChildrenName],b),i()}function g(a){var b;return q?b=a.$parent.node[p.nodeSelectedMark]:(b=!a.$parent.node[p.nodeSelectedMark],a.$parent.node[p.nodeSelectedMark]=b,b)}function h(a){return a.$parent.node[p.nodeSemiSelected]=!1}function i(){if(q)return q=!1,p.ngModel.$setViewValue(p.data);var a=angular.copy(p.data);return p.ngModel.$setViewValue(a)}function j(a,b){a.forEach(function(a){if(a[p.nodeSelectedMark]=b,a[p.nodeSemiSelected]=!1,a[p.nodeChildrenName]&&0!==a[p.nodeChildrenName].length)return j(a[p.nodeChildrenName],b)})}function k(a){var b=m(a.node[p.nodeChildrenName]),c=l(a.node[p.nodeChildrenName]);if(a.node[p.nodeSelectedMark]=b,a.node[p.nodeSemiSelected]=!b&&c,a.$parent.$parent.node)return k(a.$parent.$parent)}function l(a){return a.some(function(a){return!(!a[p.nodeSelectedMark]&&!a[p.nodeSemiSelected])&&(1==a[p.nodeSelectedMark]||1==a[p.nodeSemiSelected])})}function m(a){return!a.some(function(a){return!a[p.nodeSelectedMark]||0==a[p.nodeSelectedMark]})}function n(a,b){if(null==b)var b=[];return angular.isDefined(a.$parent.$index)&&(b.splice(0,0,a.$parent.$index),n(a.$parent.$parent,b)),b}function o(a,b){a.forEach(function(c,d){d!==b&&(a[d][p.nodeSelectedMark]=!1,a[d][p.nodeSemiSelected]=!1,j(c[p.nodeChildrenName],!1))})}var p=this,q=!1,r="false",s=[];p.node,p.nodeDisplayName="name",p.nodeChildrenName="children",p.nodeSelectedMark="mark",p.displayTreeFilter=!1,p.selectNode=f,p.$onInit=d}function c(a){function b(){0==k.length?c():(e(),f())}function c(){for(var a=l.getElementsByTagName("li"),b=0;b<a.length;b++)a[b].classList.contains("tree-child")&&a[b].classList.add("hidden"),a[b].classList.remove("filter-hidden"),d(a[b])}function d(a){var b=a.children[0].childNodes[1].children[0];b.classList.contains("mdi-chevron-down")&&(b.classList.add("mdi-chevron-right"),b.classList.remove("mdi-chevron-down"))}function e(){for(var a=l.getElementsByTagName("li"),b=0;b<a.length;b++)a[b].classList.add("filter-hidden"),a[b].classList.contains("hidden")&&a[b].classList.remove("hidden")}function f(){for(var a=l.getElementsByClassName("tree-handle-wrapper"),b=new RegExp(k,"i"),c=0;c<a.length;c++)a[c].textContent.match(b)&&(a[c].parentNode.parentNode.classList.remove("filter-hidden"),g(a[c].parentNode.parentNode),h(a[c].parentNode.parentNode))}function g(a){for(var b=a.getElementsByTagName("li"),c=0;c<b.length;c++)b[c].classList.remove("filter-hidden"),i(a)}function h(a){a.parentNode.parentNode.classList.contains("filter-hidden")&&(a.parentNode.parentNode.classList.remove("filter-hidden"),i(a.parentNode.parentNode),h(a.parentNode.parentNode))}function i(a){var b=a.getElementsByClassName("mdi-chevron-right")[0];b&&(b.classList.add("mdi-chevron-down"),b.classList.remove("mdi-chevron-right"))}var j=this,k="",l=a[0].parentNode.parentNode;j.$onChanges=function(a){k=a.search.currentValue?a.search.currentValue:"",b()}}function d(){function a(a,b,c,d){function e(a){for(var b=a.nextElementSibling.getElementsByTagName("li"),c=0;c<b.length;c++){b[c].classList.contains("hidden")||b[c].classList.add("hidden");var d=b[c].getElementsByTagName("i")[0].classList;d.contains("mdi-chevron-down")&&(d.remove("mdi-chevron-down"),d.add("mdi-chevron-right"))}}function f(a){for(var b=a.nextElementSibling.children,c=0;c<b.length;c++)b[c].classList.remove("hidden")}var g=b[0];g.children[0].addEventListener("click",function(){var a=g.getElementsByTagName("i")[0].classList;return a.contains("mdi-chevron-right")?(a.remove("mdi-chevron-right"),a.add("mdi-chevron-down"),f(g)):a.contains("mdi-chevron-down")?(a.remove("mdi-chevron-down"),a.add("mdi-chevron-right"),e(g)):void 0})}return{restrict:"EA",link:a}}angular.module("wfm.treePicker",["pascalprecht.translate"]).component("treeDataOne",{templateUrl:"directives/tree-picker/tree_data.tpl.html",require:{ngModel:"ngModel"},controller:"TreeDataOneController",controllerAs:"vm",bindings:{option:"="}}).component("treeDataTwo",{templateUrl:"directives/tree-picker/tree_data.tpl.html",require:{ngModel:"ngModel"},controller:"TreeDataTwoController",controllerAs:"vm",bindings:{option:"="}}).component("treeFilter",{controller:"TreeFilterController",controllerAs:"vm",bindings:{search:"<"}}).controller("TreeDataOneController",a).controller("TreeDataTwoController",b).controller("TreeFilterController",c).directive("treeAnimate",d),a.$inject=["$element","$timeout"],b.$inject=["$element","$timeout","$attrs"],c.$inject=["$element"]}(),function(){angular.module("wfm.helpingDirectives",[]).directive("outsideClick",["$window","$parse",function(a,b){function c(c,d,e){var f=function(a){d[0].contains(a.target)||c.$apply(function(){b(e.outsideClick)(c,{$event:a})})};angular.element(a).on("click",f);var g=function(){window.angular.element(a).off("click",f)};c.$on("$destroy",g)}return{restrict:"A",link:c}}])}(),function(){"use strict";var a=";",b=":",c=function(){function c(a,b){angular.forEach(g.searchOptions.searchFields,function(c){c.toUpperCase()===a.toUpperCase()&&(g.advancedSearchForm[c]=b)})}function d(a){if(void 0===a||null===a||0===a.trim().length)return"";for(var b,c=a.trim(),d="",e=/['"](.*?)['"]/gi;b=e.exec(c);){var f=b[1].trim();f.length>0&&(d=d+' "'+f+'"')}return d=d.trim(),(d+" "+c.replace(e,"").trim().replace('"',"").trim()).trim()}function e(){if(g.advancedSearchForm={},-1!==g.searchOptions.keyword.indexOf(b)){var e=g.searchOptions.keyword.trim();e.charAt(e.length-1)!==a&&(e+=a);for(var f,h=/(\S*?):\s{0,}(.*?);/gi;f=h.exec(e);){c(f[1].trim(),d(f[2].trim()))}}}function f(c,e){var f=d(e);return f.length>0?c+b+" "+f+a+" ":""}var g=this;g.advancedSearchForm={},g.validateSearchKeywordChanged=function(){g.focusSearch(),g.searchOptions.searchKeywordChanged=!0,e()},g.turnOffAdvancedSearch=function(a){if(a&&"advanced-search"===a.target.id)return void a.stopPropagation();g.showAdvancedSearchOption=!1},g.openAdvancedSearchOption=function(a){g.showAdvancedSearchOption=!0,e()},g.advancedSearch=function(){g.updateSearchExpression(),g.turnOffAdvancedSearch(),g.searchCallback&&g.searchCallback(g.searchOptions.keyword)},g.updateSearchExpression=function(){var a="";angular.forEach(g.searchOptions.searchFields,function(b){a+=f(b,g.advancedSearchForm[b])}),a=a.trim().slice(0,-1),""!==a&&a!==g.searchOptions.keyword&&(g.searchOptions.searchKeywordChanged=!0),g.searchOptions.keyword=a},g.clearSearch=function(){angular.forEach(g.searchOptions.searchFields,function(a){g.advancedSearchForm[a]=""}),g.searchOptions.keyword=""},g.onSearchFieldInputKeyUp=function(a){g.updateSearchExpression(),13===a.which&&g.advancedSearch()},g.handleAdvanceSearchShowup=function(){g.showAdvancedSearchOption=!g.searchOptions.keyword},g.focusSearch=function(){g.searchOptions.focusingSearch=!0},g.resetFocusSearch=function(){return g.searchOptions.focusingSearch=!1,!0},g.searchTextChange=function(){g.validateSearchKeywordChanged(),g.handleAdvanceSearchShowup()},g.searchTextInputKeyup=function(a){if(13===a.which)return g.resetFocusSearch(),g.searchCallback&&g.searchCallback(g.searchOptions.keyword),void g.turnOffAdvancedSearch()},g.searchIconClickFn=function(){g.searchCallback&&g.searchCallback(g.searchOptions.keyword),g.turnOffAdvancedSearch(),g.resetFocusSearch()}},d=function(){return{controller:"multipleSearchInputCtrl",controllerAs:"vm",bindToController:!0,templateUrl:"directives/wfm-multiple-search/wfm-multiple-search-input.tpl.html",scope:{searchTitle:"=",searchOptions:"=?",searchCallback:"=?"},link:function(a,b,c,d){b.on("focusout",function(c){b[0].contains(c.relatedTarget)||setTimeout(function(){d.turnOffAdvancedSearch(),a.$apply()})}),b.on("keydown",function(c){27===c.which&&(d.turnOffAdvancedSearch(),d.focusSearch(),angular.element(b[0].querySelector(".search-icon")).focus(),a.$apply())})}}};angular.module("wfm.multiplesearchinput",["wfm.helpingDirectives"]).directive("wfmMultipleSearchInput",d).controller("multipleSearchInputCtrl",c)}(),function(){"use strict";function a(){return{controller:"wfmRightPanelCtrl",controllerAs:"vm",bindToController:!0,scope:{panelOptions:"=",onOpen:"&",onClose:"&"},transclude:!0,templateUrl:"directives/wfm-right-panel/wfm-right-panel.tpl.html",link:b}}function b(a,b,c){a.vm.panelOptions.sidePanelTitle=a.vm.panelOptions.sidePanelTitle||"Right Panel",a.vm.panelOptions.showCloseButton=!0===a.vm.panelOptions.showCloseButton,a.vm.panelOptions.showBackdrop=!0===a.vm.panelOptions.showBackdrop,a.vm.panelOptions.showResizer=!0===a.vm.panelOptions.showResizer,a.vm.panelOptions.showPopupButton=!0===a.vm.panelOptions.showPopupButton,!a.vm.panelOptions.showResizer&&a.vm.panelOptions.panelState&&$("wfm-right-panel .resizable .rg-left").hide()}var c=function(a,b){var c=this;c.showPanel=!1,c.panelOptions.panelState=!1,c.openPanel=function(){a("right-panel").isOpen()||(a("right-panel").open(),c.onOpen()),c.showPanel=!0,c.panelOptions.panelState=!0},c.closePanel=function(){a("right-panel").isOpen()&&(a("right-panel").close(),c.onClose()),c.showPanel=!1,c.panelOptions.panelState=!1},b.$watch(function(){return c.panelOptions.panelState},function(a,b){a?c.openPanel():c.closePanel()},!0)},d=angular.module("wfm.rightPanel",["angularResizable"]);d.controller("wfmRightPanelCtrl",c),c.$inject=["$mdSidenav","$scope"],d.directive("wfmRightPanel",a)}(),function(){"use strict";function a(a){function b(a,b){var c=d.selectedDays.indexOf(b);-1===c?(d.selectedDays.push(b),b.IsSelected=!0):(d.selectedDays.splice(c,1),b.IsSelected=!1)}function c(b){return b.openHour&&b.closeHour||(d.errorMessage=a.instant("StartTimeAndEndTimeMustBeSet"),b.$invalid=!0),(b.close.$invalid||b.open.$invalid)&&(d.errorMessage=a.instant("EnteredTimeIsInvalid"),b.$invalid=!0),b.openHour>b.closeHour&&!1===d.overNight&&(d.errorMessage=a.instant("EndTimeMustBeGreaterOrEqualToStartTime"),b.$invalid=!0),b.$invalid}var d=this;d.timeFormat={Format:"HH:mm",Meridian:!1},d.errorMessage=a.instant("InvalidInput"),d.selectedDays=[],d.overNight=!1,d.showSummary=!1,d.weekdays=[{Name:a.instant("DayOfWeekMonday"),UntranslatedName:"xxMonday",OverNight:null,OpenHour:"",CloseHour:"",IsSelected:!1},{Name:a.instant("DayOfWeekTuesday"),UntranslatedName:"xxTuesday",OverNight:null,OpenHour:"",CloseHour:"",IsSelected:!1},{Name:a.instant("DayOfWeekWednesday"),UntranslatedName:"xxWednesday",OverNight:null,OpenHour:"",CloseHour:"",IsSelected:!1},{Name:a.instant("DayOfWeekThursday"),UntranslatedName:"xxThursday",OverNight:null,OpenHour:"",CloseHour:"",IsSelected:!1},{Name:a.instant("DayOfWeekFriday"),UntranslatedName:"xxFriday",OverNight:null,OpenHour:"",CloseHour:"",IsSelected:!1},{Name:a.instant("DayOfWeekSaturday"),UntranslatedName:"xxSaturday",OverNight:null,OpenHour:"",CloseHour:""},{Name:a.instant("DayOfWeekSunday"),UntranslatedName:"xxSunday",OverNight:null,OpenHour:"",CloseHour:""}],d.toggleTimeFormat=function(){d.timeFormat.Meridian?(d.timeFormat.Format="HH:mm",d.timeFormat.Meridian=!1):(d.timeFormat.Format="h:mm a",d.timeFormat.Meridian=!0)},d.closeWorkingPicker=function(a){d.selectedDays=[];for(var b=0;b<d.weekdays.length;b++)d.weekdays[b].IsSelected=!1;a.closeHour="",a.openHour="",a.$invalid=!1,d.showSummary=!1},d.clearDay=function(a){a.OpenHour="",a.CloseHour="",a.OverNight=null},d.selectDay=function(a){b(d.selectedDays,a)},d.openPicker=function(a){d.showSummary=!d.showSummary,d.selectedDays.length>0&&d.closeWorkingPicker(a)},d.saveHours=function(a){if(!c(a))for(var b=0;b<d.weekdays.length;b++)d.weekdays[b].IsSelected&&(d.weekdays[b].OpenHour=a.openHour,d.weekdays[b].CloseHour=a.closeHour,d.weekdays[b].OverNight=d.overNight)},d.saveAndClose=function(a){a.$invalid||(d.saveHours(a),d.closeWorkingPicker(a))},d.workingHours=d.weekdays}angular.module("wfm.workPicker",["pascalprecht.translate"]).component("workPicker",{templateUrl:"directives/work-hour-picker/work-hour-picker.tpl.html",controller:a,bindings:{workingHours:"=",overNightSwitch:"<",timeFormatSwitch:"<"}}),a.$inject=["$translate"]}(),function(){"use strict";angular.module("wfm.workinghourspicker",["wfm.timerangepicker","pascalprecht.translate"])}(),function(){"use strict";function a(a){return function(b){var c=moment.localeData(a.use()),d=c._weekdaysShort;return b.WeekDay>=d.length?"":d[b.WeekDay]}}angular.module("wfm.workinghourspicker").filter("showWeekdays",["$translate",a])}(),function(){"use strict";angular.module("wfm.workinghourspicker").service("workingHoursService",["$locale",function(a){this.createEmptyWorkingPeriod=function(a,b){for(var c=[],d=moment.localeData()._week?moment.localeData()._week.dow:0,e=0;e<7;e++){var f=(d+e)%7;c.push({WeekDay:f,Checked:!1})}return{StartTime:a,EndTime:b,WeekDaySelections:c}}}]),angular.module("wfm.workinghourspicker").directive("workingHoursPicker",["$q","$translate","$filter","$locale","workingHoursService",function(a,b,c,d,e){function f(f,g,h){function i(a){f.workingHours[a].WeekDaySelections.every(function(a){return a.Checked})?angular.forEach(f.workingHours[a].WeekDaySelections,function(a){a.Checked=!1}):angular.forEach(f.workingHours[a].WeekDaySelections,function(b){b.Checked=!0,j(a,b.WeekDay)})}function j(a,b){m(f.workingHours,a,b)}function k(){var a=f.newWorkingPeriod.startTime,b=f.newWorkingPeriod.endTime;f.workingHours.push(e.createEmptyWorkingPeriod(angular.copy(a),angular.copy(b)))}function l(a){f.workingHours.splice(a,1)}function m(a,b,c){angular.forEach(a,function(a,d){d!==b&&angular.forEach(a.WeekDaySelections,function(a){c===a.WeekDay&&(a.Checked=!1)})})}function n(a,b){var e=moment(a),f=moment(b);return e.isSame(f,"day")?c("date")(a,d.DATETIME_FORMATS.shortTime)+" - "+c("date")(b,d.DATETIME_FORMATS.shortTime):c("date")(a,d.DATETIME_FORMATS.shortTime)+" - "+c("date")(b,d.DATETIME_FORMATS.shortTime)+" +1"}f.enforceRadioBehavior=j,f.addEmptyWorkingPeriod=k,f.removeWorkingPeriod=l,f.getTimerangeDisplay=n,f.toggleAllChecks=i,f.newWorkingPeriod={startTime:new Date(2016,0,1,8),endTime:new Date(2016,0,1,17)};var o,p=e.createEmptyWorkingPeriod().WeekDaySelections,q=[];for(o=0;o<p.length;o++)q.push(b(c("showWeekdays")(p[o])));a.all(q).then(function(a){for(o=0;o<p.length;o++)p[o].Text=a[o];f.weekDays=p})}return{restrict:"E",scope:{workingHours:"=",disableNextDay:"=?",maxHoursRange:"=?"},templateUrl:"directives/workinghourspicker/working-hours-picker.tpl.html",link:f}}])}();